<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
		<script type="text/javascript" src="core/object.js"></script>
		<script type="text/javascript" src="core/array.js"></script>
		<script type="text/javascript" src="core/function.js"></script>
		<script type="text/javascript" src="core/fun.js"></script>
		<script type="text/javascript" src="core/property.js"></script>
		<script type="text/javascript" src="core/math.js"></script>
		<script type="text/javascript" src="jlayout/jlayout.js"></script>
		<script type="text/javascript" src="../lib/sylvester.js"></script>
		<script type="text/javascript" src="chart/defaults.js"></script>
		<script type="text/javascript" src="chart/properties.js"></script>
		<script type="text/javascript" src="chart/data.js"></script>
		<script type="text/javascript" src="chart/interval.js"></script>
		<script type="text/javascript" src="chart/coordinate.js"></script>
		<script type="text/javascript" src="chart/axis.js"></script>
		<script type="text/javascript" src="chart/font.js"></script>
		<script type="text/javascript" src="chart/graphics.js"></script>
		<script type="text/javascript" src="chart/text.mozilla.js"></script>
		<script type="text/javascript" src="chart/chart.js"></script>
		<script type="text/javascript" src="chart/composite-chart.js"></script>
		<script type="text/javascript" src="chart/canvas.js"></script>
		<script type="text/javascript" src="chart/title.js"></script>
		<script type="text/javascript" src="chart/chart.scatter.js"></script>
		<script type="text/javascript" src="chart/chart.bar.js"></script>

		<script type="text/javascript">
		<![CDATA[
			function anscombe() {
				var g = graphics('scatter-anscombe');
				var d = {
					categories: ['Set1', 'Set2', 'Set3', 'Set 4'],
					data: [
						[
							[10, 8.04],
							[8, 6.95],
							[13, 7.58],
							[9, 8.81],
							[11, 8.33],
							[14, 9.96],
							[6, 7.24],
							[4, 4.26],
							[12, 10.84],
							[7, 4.82],
							[5, 5.68]
						],
						[
							[10, 9.14],
							[8, 8.14],
							[13, 8.74],
							[9, 8.77],
							[11, 9.26],
							[14, 8.1],
							[6, 6.13],
							[4, 3.1],
							[12, 9.13],
							[7, 7.26],
							[5, 4.74]
						],
						[
							[10, 7.46],
							[8, 6.77],
							[13, 12.74],
							[9, 7.11],
							[11, 7.81],
							[14, 8.84],
							[6, 6.08],
							[4, 5.39],
							[12, 8.15],
							[7, 6.42],
							[5, 5.73]
						],
						[
							[8, 6.58],
							[8, 5.76],
							[8, 7.71],
							[8, 8.84],
							[8, 8.47],
							[8, 7.04],
							[8, 5.25],
							[19, 12.5],
							[8, 5.56],
							[8, 7.91],
							[8, 6.89]
						]
					]
				};

				var plot = defaults.type.scatter(d, { title: 'Anscombe\'s Quartet of Datasets' });

				console.log(plot.preferredSize());

				plot.bounds(plot.preferredSize());
				plot.doLayout();
				plot.draw(g);
			}

			function challenger() {
				var g = graphics('scatter-challenger');
				var c = [
					[11.9, 11],
					[14.1, 4],
					[14.2, 4],
					[17.1, 2],
					[19.1, 0],
					[19.2, 0],
					[19.3, 0],
					[19.4, 0],
					[19.5, 0],
					[20.1, 0],
					[21.1, 4],
					[21.2, 0],
					[21.3, 4],
					[21.4, 0],
					[21.5, 0],
					[22.1, 0],
					[23.2, 0],
					[24.3, 4],
					[24.4, 0],
					[24.5, 0],
					[26.1, 0],
					[26.2, 0],
					[27.1, 0]
				];
				var plot = defaults.type.scatter(c, { title: 'Temperature vs Damage Index' });
				console.log(plot.preferredSize());
				plot.bounds(plot.preferredSize());
				plot.doLayout();
				plot.draw(g);
			}

			function bonds() {
				var g = graphics('bar-bonds');
				var d = {
					categories: ['Treasury Bonds', 'AAA Municipal Bonds'],
					subcategories: ['Two-Year Yields', 'Ten-Year Yields'],
					data: [
						[1.11, 3],
						[3.1, 5.7],
					]
				};

				var plot = defaults.type.bar(d, { title: 'Bond Yields' });
				plot.bounds({width: 300, height: 200});
				plot.doLayout();
				plot.draw(g);
			}

			function sales() {
				var g = graphics('bar-pcount');
				var d = {
					categories: ['Sales', 'Engineering', 'Marketing', 'HR'],
					data: [1.5, 3, 2.2, -0.3]
				};
				var plot = defaults.type.bar(d);
				plot.bounds({width: 300, height: 200});
				plot.doLayout();
				plot.draw(g);
			}

			function bar() {
				sales();
				bonds();
			}

			function scatter() {
				anscombe();
				challenger();
			}

			function draw() {
				font = font();
/*
				var g = graphics('canvas-context');

				var ha = axis({from: -3, to: 8.5, ticks: {major: 10, minor: 0}, label: 'Ranking'});
				var ha = axis({categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July'], label: 'Months in 2008'});
				var va = axis({from: -1400 , to: 9720, label: 'USD($)', ticks: {major: 10, minor: 0}});
				//var va = axis({categories: ['jan', 'feb', 'mar', 'apr'], label: 'Months in 2008'});

				var pa = axis({from: -Math.PI, to: Math.PI, ticks: {major: 8}, label: 'hello'});



				var ch = chart({ horizontal: ha, vertical: va}, {title: 'Sales 2008'});

				ch.bounds({width: 300, height: 200});
				ch.doLayout();
				ch.draw(g);
*/
				bar();
				scatter();
			}
		]]>
		</script>
		<style>
			html {
				background-color: grey;
				margin: 0em;
				padding: 0em;
			}

			body {
				margin-left: 5em;
				margin-right: 5em;
				margin-top: 0em;
				padding-top: 2em;
				padding-bottom: 2em;
				padding-left: 4em;
				padding-right: 4em;
				background-color: white;
			}

			div {
				margin-bottom: 2em;
			}
		</style>
	</head>
	<body onload="draw();">
		<div>
			<canvas id="bar-pcount" width="300" height="200"></canvas>
		</div>
		<div>
			<canvas id="bar-bonds" width="300" height="200"></canvas>
		</div>
		<!--<div>
			<canvas id="canvas-context" width="300" height="200"></canvas>
		</div>-->
		<div>
			<canvas id="scatter-anscombe" width="381" height="267"></canvas>
		</div>
		<div>
			<canvas id="scatter-challenger" width="347" height="204"></canvas>
		</div>
	</body>
</html>
